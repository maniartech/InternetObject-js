# Regular String Token Test Cases
# Tests for quoted string literals (single and double quoted)

_meta:
  suite: tokenizer
  category: strings-regular
  version: "1.0.0"
  description: "Regular (quoted) string token test cases"

double_quoted_strings:
  name: double_quoted_strings
  description: Tests for double-quoted string literals
  cases:
    - name: simple
      input: '"hello"'
      expected:
        type: STRING
        subType: REGULAR_STRING
        value: "hello"
        token: '"hello"'

    - name: empty
      input: '""'
      expected:
        type: STRING
        subType: REGULAR_STRING
        value: ""
        token: '""'

    - name: with_spaces
      input: '"hello world"'
      expected:
        type: STRING
        subType: REGULAR_STRING
        value: "hello world"
        token: '"hello world"'

    - name: with_unicode
      input: '"hello ä¸–ç•Œ"'
      expected:
        type: STRING
        subType: REGULAR_STRING
        value: "hello ä¸–ç•Œ"
        token: '"hello ä¸–ç•Œ"'

    - name: with_emoji
      input: '"hello ðŸ‘‹"'
      expected:
        type: STRING
        subType: REGULAR_STRING
        value: "hello ðŸ‘‹"
        token: '"hello ðŸ‘‹"'

single_quoted_strings:
  name: single_quoted_strings
  description: Tests for single-quoted string literals
  cases:
    - name: simple
      input: "'hello'"
      expected:
        type: STRING
        subType: REGULAR_STRING
        value: "hello"
        token: "'hello'"

    - name: empty
      input: "''"
      expected:
        type: STRING
        subType: REGULAR_STRING
        value: ""
        token: "''"

    - name: with_double_quotes
      input: "'hello \"world\"'"
      expected:
        type: STRING
        subType: REGULAR_STRING
        value: 'hello "world"'
        token: "'hello \"world\"'"

escape_sequences:
  name: escape_sequences
  description: Tests for escape sequences in strings
  cases:
    - name: escaped_quote
      input: '"hello \"world\""'
      expected:
        type: STRING
        subType: REGULAR_STRING
        value: 'hello "world"'
        token: '"hello \"world\""'

    - name: escaped_backslash
      input: '"hello\\world"'
      expected:
        type: STRING
        subType: REGULAR_STRING
        value: "hello\\world"
        token: '"hello\\world"'

    - name: escaped_newline
      input: '"hello\nworld"'
      expected:
        type: STRING
        subType: REGULAR_STRING
        value: "hello\nworld"
        token: '"hello\nworld"'

    - name: escaped_tab
      input: '"hello\tworld"'
      expected:
        type: STRING
        subType: REGULAR_STRING
        value: "hello\tworld"
        token: '"hello\tworld"'

    - name: escaped_carriage_return
      input: '"hello\rworld"'
      expected:
        type: STRING
        subType: REGULAR_STRING
        value: "hello\rworld"
        token: '"hello\rworld"'

    - name: escaped_backspace
      input: '"hello\bworld"'
      expected:
        type: STRING
        subType: REGULAR_STRING
        value: "hello\bworld"
        token: '"hello\bworld"'

    - name: escaped_formfeed
      input: '"hello\fworld"'
      expected:
        type: STRING
        subType: REGULAR_STRING
        value: "hello\fworld"
        token: '"hello\fworld"'

    - name: unicode_escape_4digit
      input: '"hello\u0041world"'
      expected:
        type: STRING
        subType: REGULAR_STRING
        value: "helloAworld"
        token: '"hello\u0041world"'

    - name: hex_escape_2digit
      input: '"hello\x41world"'
      expected:
        type: STRING
        subType: REGULAR_STRING
        value: "helloAworld"
        token: '"hello\x41world"'

# Legitimate error cases for regular strings
error_cases:
  name: error_cases
  description: Legitimate tokenizer error cases
  cases:
    # String not closed errors
    - name: unclosed_double_quote
      input: '"hello'
      expected_error:
        code: stringNotClosed
        message: "String not closed"

    - name: unclosed_single_quote
      input: "'hello"
      expected_error:
        code: stringNotClosed
        message: "String not closed"

    - name: unclosed_with_newline
      input: "\"hello\n"
      expected_error:
        code: stringNotClosed
        message: "String not closed"

    # Note: Invalid escape sequences are now handled gracefully
    # The tokenizer preserves invalid escapes as literal characters
    # instead of throwing errors
