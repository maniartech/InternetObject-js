# Regular String Token Test Cases
# Tests for quoted string literals (single and double quoted)

_meta:
  suite: tokenizer
  category: strings-regular
  version: "1.0.0"
  description: "Regular (quoted) string token test cases"

double_quoted_strings:
  name: double_quoted_strings
  description: Tests for double-quoted string literals
  cases:
    - name: simple
      input: '"hello"'
      expected:
        type: STRING
        subType: REGULAR_STRING
        value: "hello"
        token: '"hello"'

    - name: empty
      input: '""'
      expected:
        type: STRING
        subType: REGULAR_STRING
        value: ""
        token: '""'

    - name: with_spaces
      input: '"hello world"'
      expected:
        type: STRING
        subType: REGULAR_STRING
        value: "hello world"
        token: '"hello world"'

    - name: with_unicode
      input: '"hello ä¸–ç•Œ"'
      expected:
        type: STRING
        subType: REGULAR_STRING
        value: "hello ä¸–ç•Œ"
        token: '"hello ä¸–ç•Œ"'

    - name: with_emoji
      input: '"hello ðŸ‘‹"'
      expected:
        type: STRING
        subType: REGULAR_STRING
        value: "hello ðŸ‘‹"
        token: '"hello ðŸ‘‹"'

single_quoted_strings:
  name: single_quoted_strings
  description: Tests for single-quoted string literals
  cases:
    - name: simple
      input: "'hello'"
      expected:
        type: STRING
        subType: REGULAR_STRING
        value: "hello"
        token: "'hello'"

    - name: empty
      input: "''"
      expected:
        type: STRING
        subType: REGULAR_STRING
        value: ""
        token: "''"

    - name: with_double_quotes
      input: "'hello \"world\"'"
      expected:
        type: STRING
        subType: REGULAR_STRING
        value: 'hello "world"'
        token: "'hello \"world\"'"

escape_sequences:
  name: escape_sequences
  description: Tests for escape sequences in strings
  cases:
    - name: escaped_quote
      input: '"hello \"world\""'
      expected:
        type: STRING
        subType: REGULAR_STRING
        value: 'hello "world"'
        token: '"hello \"world\""'

    - name: escaped_backslash
      input: '"hello\\world"'
      expected:
        type: STRING
        subType: REGULAR_STRING
        value: "hello\\world"
        token: '"hello\\world"'

    - name: escaped_newline
      input: '"hello\nworld"'
      expected:
        type: STRING
        subType: REGULAR_STRING
        value: "hello\nworld"
        token: '"hello\nworld"'

    - name: escaped_tab
      input: '"hello\tworld"'
      expected:
        type: STRING
        subType: REGULAR_STRING
        value: "hello\tworld"
        token: '"hello\tworld"'

    - name: escaped_carriage_return
      input: '"hello\rworld"'
      expected:
        type: STRING
        subType: REGULAR_STRING
        value: "hello\rworld"
        token: '"hello\rworld"'

    - name: unicode_escape_4digit
      input: '"hello\u0041world"'
      expected:
        type: STRING
        subType: REGULAR_STRING
        value: "helloAworld"
        token: '"hello\u0041world"'

    - name: unicode_escape_braces
      input: '"hello\u{1F44B}world"'
      expected:
        type: STRING
        subType: REGULAR_STRING
        value: "helloðŸ‘‹world"
        token: '"hello\u{1F44B}world"'

# Legitimate error cases for regular strings
error_cases:
  name: error_cases
  description: Legitimate tokenizer error cases
  cases:
    # String not closed errors
    - name: unclosed_double_quote
      input: '"hello'
      expected_error:
        code: stringNotClosed
        message: "String not closed"

    - name: unclosed_single_quote
      input: "'hello"
      expected_error:
        code: stringNotClosed
        message: "String not closed"

    - name: unclosed_with_newline
      input: "\"hello\n"
      expected_error:
        code: stringNotClosed
        message: "String not closed"

    - name: escape_at_end
      input: '"hello\"'
      expected_error:
        code: stringNotClosed
        message: "String not closed"

    # Invalid escape sequence errors
    - name: invalid_escape_char
      input: '"hello\qworld"'
      expected_error:
        code: invalidEscapeSequence
        message: "Invalid escape sequence"

    - name: incomplete_unicode_4digit
      input: '"hello\u00world"'
      expected_error:
        code: invalidEscapeSequence
        message: "Invalid escape sequence"

    - name: incomplete_unicode_braces
      input: '"hello\u{world"'
      expected_error:
        code: invalidEscapeSequence
        message: "Invalid escape sequence"

    - name: invalid_unicode_hex
      input: '"hello\u00GGworld"'
      expected_error:
        code: invalidEscapeSequence
        message: "Invalid escape sequence"
