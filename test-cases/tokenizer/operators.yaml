# Operator Token Test Cases
# Tests for operator tokens

_meta:
  suite: tokenizer
  category: operators
  version: "1.0.0"
  description: "Operator token test cases"

# The tilde is the ONLY operator token the tokenizer produces
# It is used for collection start
tilde:
  name: tilde
  description: Tests for tilde tokens (collection start)
  cases:
    - name: single_tilde
      input: "~"
      expected:
        type: COLLECTION_START
        token: "~"
        value: "~"

    - name: tilde_with_name
      input: "~items"
      expected:
        - type: COLLECTION_START
          token: "~"
        - type: STRING
          subType: OPEN_STRING
          value: "items"

# Note: The following symbols are NOT separate tokens
# They become part of OPEN_STRING if not in special contexts

open_string_operators:
  name: open_string_operators
  description: Symbols that become open strings
  cases:
    - name: spread_becomes_open_string
      input: "..."
      expected:
        type: STRING
        subType: OPEN_STRING
        value: "..."
        token: "..."

    - name: asterisk_becomes_open_string
      input: "*"
      expected:
        type: STRING
        subType: OPEN_STRING
        value: "*"
        token: "*"

    - name: at_becomes_open_string
      input: "@"
      expected:
        type: STRING
        subType: OPEN_STRING
        value: "@"
        token: "@"

    - name: plus_becomes_open_string
      input: "+"
      expected:
        type: STRING
        subType: OPEN_STRING
        value: "+"
        token: "+"

    - name: dollar_becomes_open_string
      input: "$"
      expected:
        type: STRING
        subType: OPEN_STRING
        value: "$"
        token: "$"

    - name: hash_starts_comment
      input: "# comment"
      expected: []  # Hash starts a comment, no tokens produced

    - name: hash_in_identifier
      input: "item#1"
      expected:
        type: STRING
        subType: OPEN_STRING
        value: "item"
        token: "item"
      # Note: # starts a comment, so "item#1" only captures "item"
