# Binary String Token Test Cases
# Tests for binary (base64) string literals (b"..." format)

_meta:
  suite: tokenizer
  category: strings-binary
  version: "1.0.0"
  description: "Binary (base64) string token test cases"

basic_binary_strings:
  name: basic_binary_strings
  description: Tests for basic binary string literals
  cases:
    - name: simple_base64
      input: 'b"SGVsbG8gV29ybGQ="'
      expected:
        type: BINARY
        value: "SGVsbG8gV29ybGQ="
        token: 'b"SGVsbG8gV29ybGQ="'

    - name: empty_base64
      input: 'b""'
      expected:
        type: BINARY
        value: ""
        token: 'b""'

    - name: short_base64
      input: 'b"YWJj"'
      expected:
        type: BINARY
        value: "YWJj"
        token: 'b"YWJj"'

base64_padding:
  name: base64_padding
  description: Tests for base64 padding variations
  cases:
    - name: single_padding
      input: 'b"YWI="'
      expected:
        type: BINARY
        value: "YWI="
        token: 'b"YWI="'

    - name: double_padding
      input: 'b"YQ=="'
      expected:
        type: BINARY
        value: "YQ=="
        token: 'b"YQ=="'

    - name: no_padding
      input: 'b"YWJj"'
      expected:
        type: BINARY
        value: "YWJj"
        token: 'b"YWJj"'

base64_characters:
  name: base64_characters
  description: Tests for various base64 character sets
  cases:
    - name: uppercase_letters
      input: 'b"QUJDREVG"'
      expected:
        type: BINARY
        value: "QUJDREVG"
        token: 'b"QUJDREVG"'

    - name: lowercase_letters
      input: 'b"YWJjZGVm"'
      expected:
        type: BINARY
        value: "YWJjZGVm"
        token: 'b"YWJjZGVm"'

    - name: with_numbers
      input: 'b"MTIzNDU2"'
      expected:
        type: BINARY
        value: "MTIzNDU2"
        token: 'b"MTIzNDU2"'

    - name: with_plus
      input: 'b"YWJj+2Vm"'
      expected:
        type: BINARY
        value: "YWJj+2Vm"
        token: 'b"YWJj+2Vm"'

    - name: with_slash
      input: 'b"YWJj/2Vm"'
      expected:
        type: BINARY
        value: "YWJj/2Vm"
        token: 'b"YWJj/2Vm"'

single_quoted_binary:
  name: single_quoted_binary
  description: Tests for single-quoted binary strings
  cases:
    - name: simple
      input: "b'SGVsbG8='"
      expected:
        type: BINARY
        value: "SGVsbG8="
        token: "b'SGVsbG8='"

# Legitimate error cases for binary strings
error_cases:
  name: error_cases
  description: Legitimate tokenizer error cases for binary strings
  cases:
    - name: unclosed_binary_string
      input: 'b"SGVsbG8='
      expected_error:
        code: stringNotClosed
        message: "String not closed"

    - name: unclosed_binary_single
      input: "b'SGVsbG8="
      expected_error:
        code: stringNotClosed
        message: "String not closed"

    - name: invalid_base64_chars
      input: 'b"Hello!@#$"'
      expected_error:
        code: invalidBase64
        message: "Invalid base64 format"

    - name: invalid_base64_spaces
      input: 'b"SGVs bG8="'
      expected_error:
        code: invalidBase64
        message: "Invalid base64 format"

    - name: invalid_base64_padding
      input: 'b"SGVsbG8==="'
      expected_error:
        code: invalidBase64
        message: "Invalid base64 format"
